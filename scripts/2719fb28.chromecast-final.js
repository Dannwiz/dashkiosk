!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,b,c,d){"use strict";a.prototype.setup=function(){var a="urn:x-cast:com.deezer.cast.dashkiosk",d=this;c.addEventListener("message",function(a){return d.ack(a)});var e=30,f=new b.receiver.CastReceiverManager.Config;f.maxInactivity=e,f.statusText="Waiting for an URL";var g=b.receiver.CastReceiverManager.getInstance(),h=g.getCastMessageBus(a);h.onMessage=function(a){var b=JSON.parse(a.data),c=b.url;d.load(c)},this.onUrlLoad=function(a){g.setApplicationState("Receiver: "+a)},g.start(f)}}(a("./device-receiver.js")(window),window.cast,window)},{"./device-receiver.js":2}],2:[function(a,b,c){b.exports=function(a,b){"use strict";function c(a){a=a||{},this.timeout=a.timeout||3e4,this.heartbeat=null,this.tries=0}"https:"===a.location.protocol&&(a.location.href=a.location.href.replace(/^https:/,"http:")),c.prototype.setup=function(){console.error("[Dashkiosk/Device] Unimplemented method")};var d=a.document.getElementById("dashboard"),e=a.document.getElementById("loading"),f=a.document.getElementById("status");return c.prototype.load=function(a){console.info("[Dashkiosk/Device] Asked to display URL",a),d.classList.remove("show"),e.classList.add("show"),this.url=a,this.schedule();var b=document.createElement("a");b.href=a,this.tries+=1,d.src=b.origin+b.pathname+(b.search||"")+"?_v="+this.tries+(b.hash||"")+"#timeout="+this.timeout,this.onUrlLoad&&this.onUrlLoad(this.url);var c=this.url;c.indexOf("#")>=0&&(c=c.slice(0,c.indexOf("#"))),f.textContent="Connecting to "+c},c.prototype.deadline=function(a){console.warn("[Dashkiosk/Device] Heartbeat missed, reload"),this.load(a)},c.prototype.ack=function(a){"ready"===a.data&&this.heartbeat&&(console.debug("[Dashkiosk/Device] Heartbeat received"),this.schedule(),d.classList.add("show"),e.classList.remove("show"))},c.prototype.schedule=function(){var b=this;a.clearTimeout(this.heartbeat),this.heartbeat=a.setTimeout(function(){b.deadline(b.url)},this.timeout)},a.onload=function(){var a=new c;a.setup()},c}},{}]},{},[1]);